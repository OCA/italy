<?xml version="1.0" encoding="utf-8" ?>
<!--
  Copyright 2019 Simone Rubino
  License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
  -->
<odoo>
    <template id="fiscalcode_details" name="Add fiscalcode" inherit_id="website_portal.details">
        <xpath expr="//form[@action='/my/account']//div[hasclass('col-md-8')]//div[hasclass('row')]" position="inside">
            <div class="clearfix"/>
            <div t-attf-class="form-group #{error.get('is_company') and 'has-error' or ''} col-lg-6">
                <label class="control-label label-optional" for="is_company">
                    Are you a company?
                </label>
                <input type="checkbox" name="is_company" class="form-control"
                       style="width: auto;"
                       t-att-checked="is_company or bool(partner.is_company)"
                       t-att-value="is_company or bool(partner.is_company)"/>
                <!-- Used to post is_company field even if it is False,
                see https://stackoverflow.com/questions/1809494/post-unchecked-html-checkboxes/1992745#1992745-->
                <input type="hidden" name="is_company" t-att-value="False"/>
            </div>
            <div t-attf-class="form-group #{error.get('fiscalcode') and 'has-error' or ''} col-lg-6">
                <label class="control-label label-optional" for="fiscalcode">
                    Your Fiscal Code
                </label>
                <input type="text" name="fiscalcode" class="form-control"
                       t-att-value="fiscalcode or partner.fiscalcode"/>
            </div>
        </xpath>
    </template>
</odoo>
